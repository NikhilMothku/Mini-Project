<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Menu</title>
    <link href="https://fonts.googleapis.com/css2?family=Lucida+Sans+Unicode&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Lucida Sans Unicode', sans-serif;
            background-image: url('https://wallpaperaccess.com/full/3353887.jpg'); 
            background-size: cover;
            margin: 0;
            background-attachment: fixed;
            color: white;
        }
        .container {
            width: 90%;
            margin: auto;
            overflow: hidden;
            color:#eee;
        }
        header {
            text-align: center;
            padding: 50px 0;
        }
        header h1 {
            font-size: 48px;
            margin-bottom: 10px;
            text-shadow: 2px 2px #000;
            color: rgb(240, 250, 98);
        }
        .cart {
            position: absolute;
            top: 20px;
            right: 20px;
            background: #ff7f50;
            color: white;
            padding: 15px 20px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 20px;
        }
        .cart-popup {
            display: none;
            position: fixed;
            top: 100px;
            right: 50px;
            background: rgba(0, 0, 0, 0.9);
            padding: 20px;
            border-radius: 10px;
            width: 300px;
            z-index: 10;
        }
        .menu {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-around;
            padding: 20px 0;
        }
        .menu-item {
            background: rgba(0, 0, 0, 0.7);
            border: 1px solid #ddd;
            border-radius: 5px;
            width: 28%;
            margin: 15px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 4px 8px rgba(255, 255, 255, 0.3);
            color: goldenrod;
        }
        .menu-item img {
            width: 100%;
            height: 200px;
            border-radius: 5px;
        }
        .menu-item button {
            background: #ff7f50;
            color: white;
            padding: 10px 15px;
            border: none;
            cursor: pointer;
            border-radius: 5px;
            margin-top: 10px;
        }
        .menu-item button:hover {
            background: #e74c3c;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Menu</h1>
            <h2>Delicious Food, Delightful Experience</h2>
        </header>
        
        <!-- Cart Button -->
        <div class="cart" onclick="toggleCartPopup()">
            ðŸ›’ Cart (<span id="cartCount">0</span>)
        </div>

        <!-- Cart Popup -->
        <div class="cart-popup" id="cartPopup">
            <h2>Your Cart</h2>
            <div id="cartItems"></div>
            <p id="totalPrice">Total Price: â‚¹0</p>
            <button onclick="clearCart()">Clear Cart</button>
            <button id="Buynow">Buy now</button>
        </div>

        <div class="menu">
            <div class="menu-item">
                <img src="bir.jpg">
                <h2>Biryani</h2>
                <p>Price: â‚¹249</p>
                <input type="number" min="1" value="1" id="biryaniQty">
                <button onclick="addToCart('Biryani', 249, biryaniQty.value)">Add to Cart</button>
            </div>
            <div class="menu-item">
                <img src="grillchicken.jpg">
                <h2>Grilled Chicken</h2>
                <p>Price: â‚¹349</p>
                <input type="number" min="1" value="1" id="grilledChickenQty">
                <button onclick="addToCart('Grilled Chicken', 349, grilledChickenQty.value)">Add to Cart</button>
            </div>
            <div class="menu-item">
                <img src="pan-seared-salmon-.jpg">
                <h2>Salmon</h2>
                <p>Price: â‚¹599</p>
                <input type="number" min="1" value="1" id="salmonQty">
                <button onclick="addToCart('Salmon', 599, salmonQty.value)">Add to Cart</button>
            </div>
            <div class="menu-item">
                <img src="download.jpg">
                <h2>Mutton Kababs</h2>
                <p>Price: â‚¹349</p>
                <input type="number" min="1" value="1" id="muttonKababsQty">
                <button onclick="addToCart('Mutton Kababs', 349, muttonKababsQty.value)">Add to Cart</button>
            </div>
            <div class="menu-item">
                <img src="pb.jpg">
                <h2>Paneer Biryani</h2>
                <p>Price: â‚¹279</p>
                <input type="number" min="1" value="1" id="pbQty">
                <button onclick="addToCart('Paneer Biryani', 279, pbQty.value)">Add to Cart</button>
            </div>
            <div class="menu-item">
                <img src="kp.jpg">
                <h2>Kaju Paneer</h2>
                <p>Price: â‚¹329</p>
                <input type="number" min="1" value="1" id="kpQty">
                <button onclick="addToCart('Kaju Paneer', 329, kpQty.value)">Add to Cart</button>
            </div>
            <div class="menu-item">
                <img src="bn..jpg">
                <h2>Butter naan</h2>
                <p>Price: â‚¹39</p>
                <input type="number" min="1" value="1" id="bnQty">
                <button onclick="addToCart('Butter naan', 39, bnQty.value)">Add to Cart</button>
            </div>
            <div class="menu-item">
                <img src="dt.jpg">
                <h2>Dal Tadka</h2>
                <p>Price: â‚¹179</p>
                <input type="number" min="1" value="1" id="dtQty">
                <button onclick="addToCart('Dal Tadka', 179, dtQty.value)">Add to Cart</button>
            </div>
            <div class="menu-item">
                <img src="sushi.jpg">
                <h2>Sushi</h2>
                <p>Price: â‚¹999</p>
                <input type="number" min="1" value="1" id="SushiQty">
                <button onclick="addToCart('Sushi', 999, SushiQty.value)">Add to Cart</button>
            </div>
            <div class="menu-item">
                <img src="ramen.png">
                <h2>Ramen</h2>
                <p>Price: â‚¹299</p>
                <input type="number" min="1" value="1" id="RamenQty">
                <button onclick="addToCart('Ramen', 299, RamenQty.value)">Add to Cart</button>
            </div>
            <div class="menu-item">
                <img src="tempura.jpg">
                <h2>Tempura</h2>
                <p>Price: â‚¹599</p>
                <input type="number" min="1" value="1" id="TempuraQty">
                <button onclick="addToCart('Tempura', 599, TempuraQty.value)">Add to Cart</button>
            </div>
            <div class="menu-item">
                <img src="takoyaki.jpg">
                <h2>Takoyaki</h2>
                <p>Price: â‚¹549 </p>
                <input type="number" min="1" value="1" id="TakoyakiQty">
                <button onclick="addToCart('Takoyaki', 549, TakoyakiQty.value)">Add to Cart</button>
            </div>
            <div class="menu-item">
                <img src="gj.jpg">
                <h2>Gulab Jamun</h2>
                <p>Price: â‚¹59</p>
                <input type="number" min="1" value="1" id="gulabJamunQty">
                <button onclick="addToCart('Gulab Jamun', 59, gulabJamunQty.value)">Add to Cart</button>
            </div>
            <div class="menu-item">
                <img src="download (1).jpg">
                <h2>Pastry</h2>
                <p>Price: â‚¹69</p>
                <input type="number" min="1" value="1" id="pastryQty">
                <button onclick="addToCart('Pastry', 69, pastryQty.value)">Add to Cart</button>
            </div>
            <div class="menu-item">
                <img src="rsg.jpg">
                <h2>Rasgulla</h2>
                <p>Price: â‚¹99</p>
                <input type="number" min="1" value="1" id="rasgollaQty">
                <button onclick="addToCart('Rasgolla', 99, rasgollaQty.value)">Add to Cart</button>
            </div>
            <div class="menu-item">
                <img src="images (1).jpg">
                <h2>Apricot Delight</h2>
                <p>Price: â‚¹149</p>
                <input type="number" min="1" value="1" id="apricotDelightQty">
                <button onclick="addToCart('Apricot Delight', 149, apricotDelightQty.value)">Add to Cart</button>
            </div>
            <div class="menu-item">
                <img src="c.jpg">
                <h2>coke</h2>
                <p>Price: â‚¹79</p>
                <input type="number" min="1" value="1" id="CQty">
                <button onclick="addToCart('Coke', 79, CQty.value)">Add to Cart</button>
            </div>
            <div class="menu-item">
                <img src="mo.jpg">
                <h2>Mojito</h2>
                <p>Price: â‚¹89</p>
                <input type="number" min="1" value="1" id="moQty">
                <button onclick="addToCart('Mojito', 89, moty.value)">Add to Cart</button>
            </div>
            <div class="menu-item">
                <img src="ch.jpg">
                <h2>Champagne</h2>
                <p>Price: â‚¹119</p>
                <input type="number" min="1" value="1" id="ChQty">
                <button onclick="addToCart('Champagne', 119, ChQty.value)">Add to Cart</button>
            </div>
            <div class="menu-item">
                <img src="mc.jpg">
                <h2>Mock tail</h2>
                <p>Price: â‚¹79</p>
                <input type="number" min="1" value="1" id="mcty">
                <button onclick="addToCart('Mock tail', 79, mcty.value)">Add to Cart</button>
            </div>
        </div>
    </div>

    <script>
        let cart = [];
        let total = 0;

        function addToCart(item, price, qty) {
            const quantity = parseInt(qty);
            const existingItemIndex = cart.findIndex(cartItem => cartItem.item === item);
            const itemPrice = price * quantity; // Total price for the specified quantity

            if (existingItemIndex > -1) {
                cart[existingItemIndex].quantity += quantity;
                cart[existingItemIndex].price += itemPrice; // Increment total price for the same item
                alert(`${item} quantity increased to ${cart[existingItemIndex].quantity}`);
            } else {
                cart.push({ item, price: itemPrice, quantity });
                alert(`${item} added to cart!`);
            }
            total += itemPrice;
            displayCart();
        }

        function displayCart() {
            const cartPopup = document.getElementById('cartPopup');
            const cartItems = document.getElementById('cartItems');
            const totalPrice = document.getElementById('totalPrice');
            const cartCount = document.getElementById('cartCount');

            cartItems.innerHTML = '';
            cart.forEach((cartItem) => {
                const itemDiv = document.createElement('div');
                itemDiv.className = 'cart-item';
                itemDiv.innerHTML = `<span>${cartItem.item} (x${cartItem.quantity}) - â‚¹${cartItem.price}</span>
                                     <button class="remove-btn" onclick="removeFromCart('${cartItem.item}')">Remove</button>`;
                cartItems.appendChild(itemDiv);
            });

            totalPrice.innerText = `Total Price: â‚¹${total}`;
            cartCount.innerText = cart.length;
            cartPopup.style.display = 'block';
        }

        function removeFromCart(item) {
            const index = cart.findIndex(cartItem => cartItem.item === item);
            if (index > -1) {
                total -= cart[index].price; // Subtract the price of the item
                cart.splice(index, 1);
                alert(`${item} removed from cart!`);
                displayCart();
            }
        }

        function clearCart() {
            cart = [];
            total = 0;
            displayCart();
            alert('Cart cleared!');
        }

        function toggleCartPopup() {
            const cartPopup = document.getElementById('cartPopup');
            cartPopup.style.display = cartPopup.style.display === 'block' ? 'none' : 'block';
        }

        document.getElementById('Buynow').addEventListener('click', function() {
            localStorage.setItem('cart', JSON.stringify(cart));  // Save cart to localStorage
            localStorage.setItem('total', total);  // Save total price
            window.location.href = 'http://127.0.0.1:5500/order/menu/checkout.html';  // Redirect to buynow page
        });
    </script>
</body>
</html>
